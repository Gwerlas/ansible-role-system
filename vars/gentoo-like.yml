---
default_portage_directory: /var/db/repos/gentoo

packages_update_policy:
  marker: "{{ system_portage_directory }}/metadata/timestamp.chk"

family_packages:
  bridge:
    - net-misc/bridge-utils
  firefox:
    - www-client/firefox{{ system_portage_use_bin_suffix | ternary('-bin', '') }}
  gdm:
    - gnome-base/gdm
    - gui-libs/display-manager-init
  gnome-console:
    - x11-terms/gnome-terminal
  gnome-software: []
  libreoffice:
    - app-office/libreoffice{{ system_portage_use_bin_suffix | ternary('-bin', '') }}
  zsh:
    - app-shells/zsh
    - app-shells/zsh-completions
    - app-shells/zsh-syntax-highlighting

family_services:
  gdm:
    - display-manager

python_single_target: python{{ ansible_python.version.major }}_{{ ansible_python.version.minor }}

portage_profiles:
  server: no-multilib

default_portage_opts:
  - "{{ system_packages_build | ternary(omit, '--binpkg-changed-deps=y') }}"
  - "{{ system_packages_build | ternary(omit, '--binpkg-respect-use=y') }}"
  - --complete-graph
  - --quiet-build=y
  - --with-bdeps=y

# https://devmanual.gentoo.org/eclass-reference/make.conf/index.html
default_portage_features:
  # - "{{ system_packages_build | ternary(omit, 'binpkg-request-signature') }}"
  - "{{ system_packages_build | ternary(omit, 'getbinpkg') }}"
  - parallel-fetch

# CA Certificates
ca_certificates:
  bundle: /etc/ssl/certs/ca-certificates.crt
  path: /usr/share/ca-certificates
  command: update-ca-certificates
