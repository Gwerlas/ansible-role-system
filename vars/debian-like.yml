---
# Packages
apt_mirror: "{{ system_apt_mirror | default(default_apt_mirror) }}"
apt_sections: "{{ system_apt_sections | default(apt_default_sections) }}"

debian_release: "{{ 'testing' if ansible_distribution_release == 'n/a' else ansible_distribution_release }}"

packages_update_policy:
  files:
    - path: /var/cache/apt/pkgcache.bin

packages_upgrade_policy:
  upgrade: dist
  autoremove: true

packages_add_by_name:
  - locales

family_packages:
  gdm:
    - gdm3
  unattended-upgrades:
    - apt-listchanges
    - unattended-upgrades

# Services
family_services:
  chronyd:
    - chrony
  chronyd.service:
    - chrony.service
  ntpd:
    - ntp
  ntpd.service:
    - ntp.service

# Networks
default_network_backend_name: ifupdown

networks_types:
  bond:
    packages:
      - ifenslave
  bridge:
    packages:
      - bridge-utils

reboot_detection_policy:
  cmd: test ! -f /var/run/reboot-required
