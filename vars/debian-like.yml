---
apt_mirror: "{{ system_apt_mirror | default(apt_default_mirror) }}"
apt_sections: "{{ system_apt_sections | default(apt_default_sections) }}"

debian_release: "{{ 'testing' if ansible_distribution_release == 'n/a' else ansible_distribution_release }}"

default_ca:
  path: /usr/local/share/ca-certificates
  command: update-ca-certificates
  bundle: /etc/ssl/certs/ca-certificates.crt

default_networks:
  service_name: networking
  template:
    src: network/interfaces.d/netiface.j2
    dest: /etc/network/interfaces.d/%s

packages_upgrade_policy:
  upgrade: dist
  autoremove: true

packages_update_policy:
  marker: /var/cache/gwsys

packages:
  bond:
    - ifenslave
  bridge:
    - bridge-utils
  ca_certificates:
    - ca-certificates
  chrony:
    - chrony
  common:
    - rsync
  desktop:
    - usbutils
  ntp:
    - ntp
  parted:
    - lvm2
    - parted
  timesync:
    - systemd-timesyncd
  unattended_upgrades:
    - apt-listchanges
    - unattended-upgrades
  vlan:
    - vlan

reboot_detection_policy:
  cmd: test ! -f /var/run/reboot-required

default_time_backend: timesync
time_backends:
  chrony:
    config: chrony.conf
    service: chrony.service
  ntp:
    config: ntp.conf
    service: ntp.service
  timesync:
    config: systemd/timesyncd.conf
    service: systemd-timesyncd.service
