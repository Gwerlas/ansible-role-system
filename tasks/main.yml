---
- name: Hosts names resolution
  when: system_manage_hosts_names
  ansible.builtin.import_tasks: hosts-names.yml

- name: Update the system
  ansible.builtin.import_tasks: update.yml

- name: Wait for connection
  ansible.builtin.wait_for_connection:

- name: Install packages
  ansible.builtin.import_tasks: packages.yml

- name: Configure ZSH
  when: system_install_zsh
  ansible.builtin.import_tasks: zsh.yml

- name: Firewall
  when: system_firewall_managed
  ansible.builtin.import_tasks: firewall.yml
